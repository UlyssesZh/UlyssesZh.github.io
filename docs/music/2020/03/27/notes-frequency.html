<!DOCTYPE html>
<html lang="en"><head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="google-site-verification" content="ZuV45Knwuwl49Nvh9UsDzniZ-3qy3bGhBPofLK3SZPw" /><!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5PX967D');</script>
<!-- End Google Tag Manager -->
<!-- Google Analytics -->
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'G-7TSJ5VM6YC', 'auto');
	ga('send', 'pageview');
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7TSJ5VM6YC"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-7TSJ5VM6YC');
</script>
<!-- End Google Analytics -->
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>The frequency assignment of musical notes | Ulysses’ trip</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="The frequency assignment of musical notes" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The notes" />
<meta property="og:description" content="The notes" />
<link rel="canonical" href="http://localhost:4000/music/2020/03/27/notes-frequency.html" />
<meta property="og:url" content="http://localhost:4000/music/2020/03/27/notes-frequency.html" />
<meta property="og:site_name" content="Ulysses’ trip" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-27T07:31:55+00:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://localhost:4000/music/2020/03/27/notes-frequency.html","headline":"The frequency assignment of musical notes","dateModified":"2020-03-27T07:31:55+00:00","datePublished":"2020-03-27T07:31:55+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/music/2020/03/27/notes-frequency.html"},"description":"The notes","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
	<link rel="icon" type="image/x-icon" href="/favicon.ico?"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Ulysses' trip" /><script>
MathJax = {
	tex: {
		inlineMath: [['$', '$'], ['\\(', '\\)']],
		processEscapes: true,
		tags: 'ams'
	}
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>
<body>

<!-- Added begin --><!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5PX967D"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Added end --><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Ulysses&#39; trip</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/archives/">Archives</a><a class="page-link" href="/contact/">Contact</a><a class="page-link" href="/friends/">Friends</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
	<div class="wrapper"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">The frequency assignment of musical notes</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-03-27T07:31:55+00:00" itemprop="datePublished">Mar 27, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="the-notes">The notes</h1>

<p>First, let’s define what is a <em>note</em>.</p>

<p>A note is an element of the countable set $N$.
Here exists a bijection from $\mathbb Z$ to $N$ denoted as
$k\mapsto \nu_k$. Therefore, all notes form a sequence
\begin{equation*}
    \dots,\nu_{-2},\nu_{-1},\nu_0,\nu_1,\nu_2,\dots
\end{equation*}</p>

<p>Our goal is to define a <em>frequency assignment</em>, which is a mapping
$f:N\rightarrow\mathbb R$, whose meaning is the frequency (in Hz)
of the sound of a note.</p>

<p>It is a natural idea to define a sequence
\begin{equation*}
    f_k:=f\left(\nu_k\right).
\end{equation*}
It makes sense that the sequence is in strictly increasing order.</p>

<h1 id="the-octaves">The octaves</h1>

<p>Now, let’s think about a <em>musical interval</em>. At this stage, a
musical interval can be defined as an unordered pair of notes.
After long time of experimenting, people find that they tend to
think a musical interval extremely harmonic if it consists of
such two notes that the frequency of one of them doubles that of
the other.</p>

<p>In other words, the musical interval of $\nu_a$ and $\nu_b$ is
extremely harmonic if $f_b=2f_a$. In fact, it is so harmonic that
if the two notes are played simultaneously, a person tend to
think there is only one note being played:</p>
<audio controls="">
    <source src="/assets/audios/octave_interval.mp3" type="audio/mpeg" />
(Your browser does not support the audio element.)
</audio>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>motif = c4 c g g a a g2
piano:
V1: o4 motif motif
V2: o5 motif
</code></pre></div></div>
<p>The audio above is an illustration for octave intervals.
As can be heard, the first part of the audio is played in
octave intervals while the second part is played in single notes.</p>

<p>Considering that, here comes an amazing idea by which we can kind
of make the sequence $\left\{f_k\right\}$ seem “periodic”.
Let the “period” be denoted as $n$. Because it is not virtually
periodic, we tend to call it an <em>octave</em> instead of a period.
After that, the constant $n$ is the length of an octave.</p>

<p>What on earth is an octave defined? It is
\begin{equation*}
    \forall k:f_{k+n}=2f_k.
\end{equation*}
Why do we say an octave is like a period? It is because according
to the explanation above, corresponding notes in different octaves
sound so harmonic that a person almost think they are the same.
In this way, for some questions, we only need to consider
a single octave instead of all notes.
Let’s define the <em>base octave</em>, notes of which can generate all
other notes by multiplying the frequency by a power of 2:
\begin{equation*}
    O_0:=\left\{\nu_k\middle|k\in T\right\},
\end{equation*}
so we can say the frequency assignment has $n$ different tones.
A <em>tone</em> is an integer in
\begin{equation*}
    T:=\left[0,n\right)\cap\mathbb Z
\end{equation*}
representing where a note is in an octave.</p>

<p>We can thus define a sequence of octaves
\begin{equation*}
    O_m:=\left\{\nu_{k+mn}\middle|\nu_k\in O_0\right\}.
\end{equation*}
In fact, any octave can be the base octave. They are all the same.
For any $m$, all notes can be generated by notes in $O_m$.</p>

<p>\begin{array}{|c|cccccc|}
    \hline
    T &amp; \cdots &amp; O_{-1} &amp; O_0 &amp; O_1 &amp; O_2 &amp; \cdots
    \\\hline
    0&amp;\cdots&amp; \nu_{-n}&amp;\nu_0&amp; \nu_l &amp; \nu_{2n}&amp;\cdots\<br />
    1&amp;\cdots&amp;\nu_{-n+1}&amp;\nu_1&amp;\nu_{n+1}&amp;\nu_{2n+1}&amp;\cdots\<br />
    2&amp;\cdots&amp;\nu_{-n+2}&amp;\nu_2&amp;\nu_{n+2}&amp;\nu_{2n+2}&amp;\cdots
    \<br />
    \cdots&amp;\cdots&amp;\cdots&amp;\cdots&amp;\cdots&amp;\cdots&amp;\cdots
    \<br />
    n-1&amp;\cdots&amp;\nu_{-1}&amp;\nu_{n-1}&amp;\nu_{2n-1}&amp;\nu_{3n-1}&amp;\cdots
    \\\hline
    \label{octaves}
\end{array}
Table \ref{octaves} shows the sequence of octaves.</p>

<p>If we define $p_k:=\log_2f_k$, it is interesting to see that
\begin{equation*}
    \forall k:p_{k+n}=p_k+1.
\end{equation*}
From that, we can naturally think an excellent frequency
assignment be defined as
\begin{equation}
    p_k:=p_0+\frac kn,
    \label{p_freq_def}
\end{equation}
which is an elegant arithmetic progression.</p>

<h1 id="the-octave-group">The octave group</h1>

<p>Note that here “group” is the group concept in algebra.</p>

<p>Let $O_0$ be isomorphic to the additive group of
$\mathbb Z/n\mathbb Z$, the integers modulo $n$,
under the isomorphism $k\mapsto\nu_k$, which means to
make $O_0$ a cyclic group of order $n$. I call this group an
<em>octave group</em>.</p>

<p>To make you have a good sense of what on earth the group looks
like, the definition of its group operation can be defined as
\begin{equation}
    \nu_a\circ\nu_b:=\nu_{\left(a+b\right)\mathbin\%n},
    \label{group_op_def}
\end{equation}
where $x\mathbin\%y:=x-y\left\lfloor\frac xy\right\rfloor$.</p>

<p>Note that this binary operator $\circ$ can be extended to
be used for the whole $N$ while the definition remains the same
as Formula \ref{group_op_def}.</p>

<!--
Let
\begin{equation\*}
    Q:=\left\\{\frac kn\middle|
    k\in T\right\\}.
\end{equation\*}
It is obvious that $q\mapsto \nu_{\left(m+q\right)n}$
is a bijection from $Q$ to $O_m$. Pointing out such a bijection
is natural because elements in $Q$ seem to have
a similar form to that of $p_k$ in Formula \ref{p_freq_def}.

In fact, $Q$ is a group of size $T$ whose group operation is
defined as
\begin{equation\*}
    q_1\circ q_2:=q_1+q_2-\left\lfloor q_1+q_2\right\rfloor.
\end{equation\*}
In this way, $\left(Q,\circ\right)$ forms a group, as can
be verified:
1. The closure and associativity can be verified.
2. The identity element is $0$.
3. The inverse elemeent of $q$ is $q^{\circ-1}=1-q$.

With the bijection (or isomorphism)
$q\mapsto \nu_{\left(m+q\right)n}$, we can
also define a group operation $\circ$ on $O_m$.
Therefore, we can call $\left(O_m,\circ\right)$
an *octave group*.
-->

<p>The octave group has a musical meaning which
we should take a further look at musical intervals to find out.</p>

<h1 id="the-musical-intervals">The musical intervals</h1>

<p>Taking Formula \ref{p_freq_def}, people find that although
it is sometimes subjective whether a musical interval sounds
harmonic or not, it does not depend on where the interval is
located but on how far the two notes making up the interval are.</p>

<p>Taking this sense, we can consider only those intervals involving
$\nu_0$ because we can always translate a interval so that one of
its notes is $\nu_0$. Taking this idea, we can conclude that an
interval can be represented by a note $\nu_k$ because
the interval is equivalent to another interval
which consists of $\nu_0$ and $\nu_k$.</p>

<p>We can make this idea even further. Previously, I have stated
that a note can always be generated by a note in $O_0$. Therefore,
an interval can be represented as a note in $O_0$.</p>

<p>Now, let’s look back to the octave group $\left(O_0,\circ\right)$.
Denote the interval $b$ as that represented by $\nu_b$.
Then, translate interval $b$ to such a location that
its lower note is $\nu_a$.
Then, its higher note represents
the same interval as $\nu_a\circ\nu_b$.</p>

<p>Well, why do we focus on the group? It is because we need to
mention an important concept in group theory,
which is “generator”. It has something to do with determining
the value of $n$.</p>

<p>The value of $p_0$ does not matter because changing it is just a
translation of the whole sequence. What really matters is the
value of $n$.</p>

<p>The inventor of the current prevailing frequency assignment
(which is the $12$-tone equal temperament shown in
Formula \ref{12_equal_def}) may think the generator of the group
a vital thing.
Actually, people think it a wonderful thing that a note
representing a very harmonic interval is a generator of the
octave group.</p>

<p>Fortunately, such a goal is achievable. People find that if
$p_b=p_a+\frac7{12}$, then the interval
(which is the perfect fifth interval if you know music theory)
consisting of $\nu_a$ and $\nu_b$ sounds very harmonic:</p>

<audio controls="">
    <source src="/assets/audios/fifth_interval.mp3" type="audio/mpeg" />
(Your browser does not support the audio element.)
</audio>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>motif = e4 a f2 d4 g c2
piano:
V1: motif
V2: (transpose 7) motif
</code></pre></div></div>

<p>Furthermore, as can be seen in Table \ref{generator},
$\nu_7$ is a generator of the group $O_0$ if $n:=12$.
\begin{array}{|c|cccccccccccc|}
    \hline
    j&amp;0&amp;1&amp;2&amp;3&amp;4&amp;5&amp;6&amp;7&amp;8&amp;9&amp;10&amp;11
    \\\hline
    \nu_7^{\circ j}&amp;
    \nu_0&amp;\nu_7&amp;\nu_2&amp;\nu_9&amp;\nu_4&amp;\nu_{11}&amp;\nu_6&amp;\nu_1&amp;
    \nu_8&amp;\nu_3&amp;\nu_{10}&amp;\nu_5
    \\\hline
    \label{generator}
\end{array}
Thus, wonderful! Let’s take $n:=12$.</p>

<h1 id="the-12-tone-equal-temperament">The $12$-tone equal temperament</h1>

<p>The $12$-tone equal temperament is the most popular
frequency assignment used nowadays. It is defined as
\begin{equation}
    f_k:=16.3516\cdot 2^\frac k{12},
    \label{12_equal_def}
\end{equation}
which can be derived from Formula \ref{p_freq_def} taking
\begin{equation*}
    p_0:=4.03136\qquad n:=12.
\end{equation*}</p>

<p>The frequency assignment has $12$ different tones, $7$ of which
have their names:
\begin{align*}
    \mathrm C_m&amp;:=\nu_{12m},\<br />
    \mathrm D_m&amp;:=\nu_{12m+2},\<br />
    \mathrm E_m&amp;:=\nu_{12m+4},\<br />
    \mathrm F_m&amp;:=\nu_{12m+5},\<br />
    \mathrm G_m&amp;:=\nu_{12m+7},\<br />
    \mathrm A_m&amp;:=\nu_{12m+9},\<br />
    \mathrm B_m&amp;:=\nu_{12m+11}.
\end{align*}
The famous “middle C” is $\mathrm C_4$.</p>

<p>This notation is called the
<a href="https://en.wikipedia.org/wiki/
Scientific_pitch_notation" target="_blank"><em>scientific pitch notation</em></a>.</p>

<p>Note that in fact, this definition of $12$-tone equal temperament
has some slight error. The accurate value for $p_0$ is
\begin{equation*}
    p_0:=\log_255-\frac74
\end{equation*}
because it is stipulated that $f\left(\mathrm A_4\right)=440$,
which is standardized as ISO 16 and known as
<a href="https://en.wikipedia.org/wiki/
A440_(pitch_standard)" target="_blank">A440</a>.</p>

<h1 id="why-frac-712">Why $\frac 7{12}$</h1>

<p>People think if the ratio of two frequencies is a simple
rational number, then the interval of the two notes is harmonic.</p>

<p>$2^\frac 7{12}\approx\frac32$, which is a simple ratio.
Harmonic, huh.</p>

<p>(Finally, as is a notice, codes appearing above are
<a href="https://alda.io/" target="_blank">alda</a> codes,
which are used to write music.)</p>

  </div><a class="u-url" href="/music/2020/03/27/notes-frequency.html" hidden></a>
</article>
</div>
</main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Ulysses&#39; trip</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Ulysses&#39; trip</li><li><a class="u-email" href="mailto:UlyssesZhan@gmail.com">UlyssesZhan@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.facebook.com/YouqiuZhan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username">YouqiuZhan</span></a></li><li><a href="https://github.com/UlyssesZh"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">UlyssesZh</span></a></li><li><a href="https://instagram.com/ulysseszhan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#instagram"></use></svg> <span class="username">ulysseszhan</span></a></li><li><a href="https://www.pinterest.com/ulysseszhan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#pinterest"></use></svg> <span class="username">ulysseszhan</span></a></li><li><a href="https://www.twitter.com/UlyssesZhan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">UlyssesZhan</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Here we are at the awesome (awful) blog written by Ulysses Zhan!</p>
        <!-- Added begin -->
        <p align="right">&copy;&nbsp;2020 Ulysses Zhan</p>
        <!-- Added end -->
      </div>
    </div>

  </div>

</footer>
</body>

</html>
